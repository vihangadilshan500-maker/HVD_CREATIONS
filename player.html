<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VD Vibes - Dedicated Player</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0c0a09; /* Dark background from main page */
        }
        .card-bg {
            background: rgba(23, 23, 23, 0.7);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .gradient-text {
            background: linear-gradient(90deg, #fd1d1d, #fcb045, #833ab4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* Custom progress bar style */
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: linear-gradient(45deg, #fd1d1d, #833ab4);
            cursor: pointer;
            box-shadow: 0 0 5px #fd1d1d, 0 0 10px #833ab4;
            transition: all 0.2s;
        }
    </style>
</head>
<body class="text-white min-h-screen flex flex-col items-center justify-center p-4">

    <a href="index.html" class="absolute top-5 left-5 text-gray-400 hover:text-white transition duration-300 flex items-center">
        <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
        Back to Home
    </a>

    <div class="player-card card-bg w-full max-w-xl p-8 rounded-2xl shadow-2xl space-y-6">
        <h1 class="text-3xl font-extrabold text-center mb-6 gradient-text">Vibes Player</h1>
        
        <div class="w-full h-64 bg-gray-800 rounded-lg overflow-hidden flex items-center justify-center shadow-lg">
            <img id="album-art" src="" alt="Album Art" class="object-cover w-full h-full opacity-70">
        </div>

        <div class="text-center">
            <h2 id="song-title" class="text-2xl font-bold">... Loading Song ...</h2>
            <p id="song-artist" class="text-gray-400">VD Vibes</p>
        </div>

        <audio id="audio-player" src="" preload="auto"></audio>

        <div>
            <input type="range" id="progress-bar" value="0" min="0" max="100" class="w-full h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer">
            <div class="flex justify-between text-sm text-gray-400 mt-1">
                <span id="current-time">0:00</span>
                <span id="duration">0:00</span>
            </div>
        </div>

        <div class="flex justify-center items-center space-x-6">
            <button id="prev-btn" class="text-gray-400 hover:text-white transition duration-200">
                <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 19L18 12L6 5V19Z" transform="scale(-1, 1) translate(-24, 0)"></path></svg>
            </button>
            
            <button id="play-pause-btn" class="p-4 bg-gradient-to-r from-red-500 to-purple-500 rounded-full shadow-lg hover:shadow-xl transition duration-300 transform hover:scale-105">
                <svg id="play-icon" class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M8 5v14l11-7z"/></svg>
                <svg id="pause-icon" class="w-8 h-8 hidden" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
            </button>
            
            <button id="next-btn" class="text-gray-400 hover:text-white transition duration-200">
                <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 19L18 12L6 5V19Z"/></svg>
            </button>
        </div>
        
        <div class="flex items-center space-x-3 pt-4">
            <svg class="w-6 h-6 text-gray-400" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 5.5l-3.32-2.14A1 1 0 0010 4v16a1 1 0 001.18.9l3.32-2.14A1 1 0 0015 17V7a1 1 0 00-.5-.87zM18 12a4 4 0 00-4-4v8a4 4 0 004-4z"/></svg>
            <input type="range" id="volume-bar" value="100" min="0" max="100" class="w-full h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer">
        </div>
    </div>

    <script>
        // --- 1. Music Playlist & Random Art List ---
        
        // 🎧 PLAYLIST: Note the 'cover' property is REMOVED from the song objects.
        const playlist = [
            // NOTE: You must have a 'music' folder with these files.
            { title: "Chasing Stars", artist: "VD Vibes", file: "music/track1.mp3" },
            { title: "Nostalgic Road", artist: "VD Vibes", file: "music/track2.mp3" },
            { title: "Midnight City Lofi", artist: "VD Vibes", file: "music/track3.mp3" }
        ];

        // 🖼️ RANDOM ALBUM ART LIST: 
        // 🚨 IMPORTANT: REPLACE THESE WITH YOUR ACTUAL FILENAMES AND EXTENSIONS
        const randomAlbumArt = [
            "random/art1.jpg", 
            "random/art2.png", 
            "random/art3.jpeg",
            "random/another-cool-image.jpg"
        ];
        // Ensure you create a folder named 'random' (or adjust the path above) and put these images inside it.


        // --- 2. Element References (same as before) ---
        const audioPlayer = document.getElementById('audio-player');
        const playPauseBtn = document.getElementById('play-pause-btn');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const progressBar = document.getElementById('progress-bar');
        const currentTimeEl = document.getElementById('current-time');
        const durationEl = document.getElementById('duration');
        const volumeBar = document.getElementById('volume-bar');
        const songTitleEl = document.getElementById('song-title');
        const songArtistEl = document.getElementById('song-artist');
        const albumArtEl = document.getElementById('album-art');
        
        let currentTrackIndex = 0;
        let isPlaying = false;

        // --- 3. Utility Functions ---
        const formatTime = (time) => {
            const minutes = Math.floor(time / 60);
            const seconds = Math.floor(time % 60).toString().padStart(2, '0');
            return `${minutes}:${seconds}`;
        };
        
        // NEW FUNCTION to pick a random image
        const getRandomArt = () => {
            const randomIndex = Math.floor(Math.random() * randomAlbumArt.length);
            return randomAlbumArt[randomIndex];
        };

        const loadTrack = (index) => {
            const track = playlist[index];
            audioPlayer.src = track.file;
            songTitleEl.textContent = track.title;
            songArtistEl.textContent = track.artist;
            
            // 💡 UPDATED LOGIC: Set album art to a RANDOM image from the array
            albumArtEl.src = getRandomArt(); 

            // Load the new track and update duration
            audioPlayer.load();
            audioPlayer.onloadedmetadata = () => {
                durationEl.textContent = formatTime(audioPlayer.duration);
                progressBar.max = audioPlayer.duration;
            };

            if (isPlaying) {
                audioPlayer.play();
            } else {
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
            }
        };

        const playPauseTrack = () => {
            if (isPlaying) {
                audioPlayer.pause();
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
            } else {
                audioPlayer.play();
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
            }
            isPlaying = !isPlaying;
        };

        const nextTrack = () => {
            currentTrackIndex = (currentTrackIndex + 1) % playlist.length;
            loadTrack(currentTrackIndex);
            isPlaying = true; 
        };

        const prevTrack = () => {
            currentTrackIndex = (currentTrackIndex - 1 + playlist.length) % playlist.length;
            loadTrack(currentTrackIndex);
            isPlaying = true; 
        };

        // --- 4. Event Listeners ---
        
        // Initial load
        window.onload = () => {
            loadTrack(currentTrackIndex);
            audioPlayer.volume = volumeBar.value / 100; // Set initial volume
        };

        // Control buttons
        playPauseBtn.addEventListener('click', playPauseTrack);
        nextBtn.addEventListener('click', nextTrack);
        prevBtn.addEventListener('click', prevTrack);

        // Progress update
        audioPlayer.addEventListener('timeupdate', () => {
            const currentTime = audioPlayer.currentTime;
            progressBar.value = currentTime;
            currentTimeEl.textContent = formatTime(currentTime);
        });

        // Track ended (auto-play next)
        audioPlayer.addEventListener('ended', nextTrack);

        // Seek functionality
        progressBar.addEventListener('input', () => {
            audioPlayer.currentTime = progressBar.value;
        });

        // Volume control
        volumeBar.addEventListener('input', () => {
            audioPlayer.volume = volumeBar.value / 100;
        });

    </script>

</body>
</html>